<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Dataset Comparison</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
          integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script>
       $(function () {
              $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
</head>
<body>

  Query a dataset<br/><br/>
  <form action="query" method="POST">
    Select a dataset: <br/>
    
    {% for df in dfs %}
    <input type="radio" name="d{{loop.index0}}" value="{{loop.index0}}">Day {{loop.index0}} 
    {% endfor %}
    <br/>
    Seleziona gli attributi da visualizzare:<br/>
    {% for attr in attrs %}
    <input type="checkbox" name="s{{attr}}" value="{{attr}}">{{attr}}
    {% endfor %}
    <br/>
    Restituisci solo le tuple con:<br/>
    {% for attr in attrs %}
    {{attr}} = <input type="text" name="w{{attr}}"><br/>
    {% endfor %}
    Raggruppa per:<br/>
    {% for attr in attrs %}
    <input type="checkbox" name="g{{attr}}" value="{{attr}}">{{attr}}
    {% endfor %}
    <br/>
    Seleziona solo i gruppi con un numero di tuple
    <input type="radio" name="min" value="min">minore
    <input type="radio" name="max" value="max">maggiore
    <input type="radio" name="eq" value="eq">uguale
    a <input type="text" name="count">
    sugli attributi <br/>
    {% for attr in attrs %}
    <input type="checkbox" name="h{{attr}}" value="{{attr}}">{{attr}}
    {% endfor %}
    <br/>
    <input type="submit" name="form1" value="Query">
  </form>
  
  <br/><br/><br/><br/><br/>

  [ADVANCED OPTION] Build a custom query<br/><br/>
    <form action="query" method="POST">
    Select a dataset:
    
    {% for df in dfs %}
    <input type="radio" name="d{{loop.index0}}" value="{{loop.index0}}">Day {{loop.index0}} 
    {% endfor %}
    <br/>
    Enter the query (table name is "PEOPLE"): <input type="text" name="query">
    <br/>
    <input type="submit" name="form2" value="Query">
  </form>

<br/><br/><br/><br/><br/>

{%if pdf is defined%}
Query performed: {{query}}
<br/>
Showing only the first 50 elements for day {{day}}
<br/><br/>
{{pdf | safe}}

<iframe width="0" height="0" border="0" name="dummyframe" id="dummyframe"></iframe>
<form action="download" method="POST" target="dummyframe">
  <input type="hidden" name="query" value="{{query}}">
  <input type="hidden" name="day" value="{{day}}">
  <input type="submit" value="Download as CSV">
</form>
{% endif %}

<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
  {% if report is defined %}
  [SHOW PROFILE]
		{{report | safe}}
  {% endif %}
</body>
</html>